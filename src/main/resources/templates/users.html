<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Backend Ninja - Users</title>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"/>
    <link href="#" th:href="@{/css/style.css}" rel="stylesheet" />
</head>
<body>
    <div class="container">
        <h1>Users</h1>
        <br>
        <div class="panel">
            <div class="header-panel">
                <table class="table">
                    <thead>
                        <tr>
                            <th>Username</th>
                            <th>Password</th>
                            <th>Enabled</th>
                            <th>Roles</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr th:each="user : ${users}">
                            <td th:text="${user.username}"></td>
                            <td th:text="${user.password}"></td>
                            <td th:text="${user.enabled}"></td>
                            <td>
                                <select>
                                    <option th:each="userRole : ${user.userRoles}" th:text="${userRole.role}"></option>
                                </select>
                            </td>
                            <td>
                                <a href="#" th:href="@{/users/userForm?username=__${user.username}__}">
                                    <button type="button" class="btn btn-default"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></button>
                                </a>
                                <a href="#" th:href="@{/users/removeUser?username=__${user.username}__}">
                                    <button type="button" class="btn btn-danger"><span class="glyphicon glyphicon-trash" aria-hidden="true"></span></button>
                                </a>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>

        </div>

        <div th:if="${result == 1}" class="alert alert-success" role="alert">Added Successfully!</div>
        <div th:if="${result == 0}" class="alert alert-danger" role="alert">There was an error</div>

        <a href="#" th:href="@{/users/userForm}">
            <button class="btn btn-lg btn-primary btn-block" type="submit"><span class="glyphicon glyphicon-user" aria-hidden="true"></span> Add user</button>
        </a>
        <form th:action="@{/logout}" method="post">
            <button class="btn btn-lg btn-primary btn-block" type="submit">
                <span class="glyphicon glyphicon-log-out" aria-hidden="true"></span>
                Logout
            </button>
        </form>
    </div>
</body>
</html>